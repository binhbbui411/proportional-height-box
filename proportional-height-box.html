<link rel="import" href="../polymer/polymer.html" />
<!--
`proportional-height-box`
A block-level element that resizes proportionally.

Based on code from fitvids.js (http://fitvidsjs.com/)

@demo demo/index.html
-->

<dom-module id="proportional-height-box">
  <template>

    <style>
      :host {
        display: block;
        width: 100%;
      }
      #proportional {
        position: relative;
        display: block;
        height: 0;
      }
      #proportional > ::content > * {
        position: absolute;
        display: block;
        width: 100%;
        height: 100%;
        top: 0;
      }
    </style>

    <div id="proportional" style$="[[_heightStyle]]">
      <content></content>
    </div>

  </template>
</dom-module>

<script>
(function() {
  window.Polymer({
    is: 'proportional-height-box',

    properties: {
      width: {
        type: Number,
        value: 4
      },
      height: {
        type: Number,
        value: 3
      },
      _heightStyle: {
        type: String,
        computed: 'computeStyle(width, height)'
      }
    },

    computeStyle: function(width, height) {
      var ratio = (height / width) * 100;
      return 'padding-top:' + ratio + '%';
    }
  });
})();
</script>
